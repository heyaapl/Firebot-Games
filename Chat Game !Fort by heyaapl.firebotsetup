{"name":"Chat Game: !Fort by heyaapl","description":"# !Fort Chat Game\n## Description\nJoin a Sea of Thieves-themed Chat Game with configurable values for Win Chance, Min and Max Bets, and more!\n\n[Watch This Video](https://youtu.be/0Yx5voEkgxE)\n\n## Features\n- Fully configurable chat game\n- Built in stats so viewers can track how they do over time\n\n## Important Notes:\n- Make sure you have a Currency created prior to importing. If you don't have the Currency Tab, enable the Viewer Database\n- Make sure the Currency Name that you enter is an exact match (it is Case Sensitive) when answering the import questions.","version":1.1,"author":"heyaapl","components":{"commands":[{"active":true,"sendCooldownMessage":true,"cooldown":{},"effects":{"list":[{"id":"efc1d574-f9f2-4945-b590-a4b319b927ca","type":"firebot:chat","chatter":"Bot","message":"$user to join a fort, type !fort [amount]!","active":true,"percentWeight":null}],"id":"d4290b61-95b6-4dc7-8fa4-96d5e660170e"},"ignoreBot":true,"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"sortTags":["252dec95-8a68-4d0c-945f-a426afa7ea05","7aef6931-3177-4cdc-b7dd-6721e7a3e2f6"],"trigger":"!fort","id":"482b8efd-fe3c-40e3-b0e8-c6fec745d4a6","createdBy":"heyaapl","createdAt":"2020-10-03T23:41:12-06:00","count":1,"lastEditBy":"heyaapl","lastEditAt":"2025-04-13T21:51:32.951-06:00","description":"Go on an epic Sea of Thieves adventure with members of chat with the potential for lots of spoils!","subCommands":[{"active":true,"id":"56ce51e5-aae8-4d01-86e4-afbb2fc89d86","type":"Custom","arg":"stats","regex":false,"fallback":false,"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"effects":{"list":[{"id":"8036c43d-4d59-42c9-8ae1-85a7a7e2113d","type":"firebot:chat","chatter":"Bot","message":"$user has joined $userMetadata[$user, fortsJoined,0] forts. They have successfully defeated $commafy[$userMetadata[$user, fortsWon,0]] forts, and have a success rate of $round[$math[($userMetadata[$user, fortsWon,0]/$userMetadata[$user, fortsJoined,1])*100]]%.","active":true,"percentWeight":null}],"id":"92eb1b86-7308-4f3d-a4d3-3d5f9cf5f804"},"description":"Displays a User's Fort stats, such as the number of Forts Joined, Won, and Lost.","cooldown":{"user":10}}],"fallbackSubcommand":{"active":true,"id":"fallback-subcommand","type":"Fallback","arg":".+","regex":true,"usage":"amount","fallback":true,"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"failMessage":"Sorry @{user}, you cannot use this command because: {reason}","sendAsReply":false},"effects":{"list":[{"id":"fceaf858-e340-4687-a8ec-f28cce42df95","type":"firebot:customvariable","ttl":0,"name":"fortCurrencyName","variableData":"Points","effectLabel":"Currency Name","active":true,"percentWeight":null},{"id":"e0a7270b-1999-4cfa-94ea-7f3a068f649f","type":"firebot:customvariable","ttl":0,"name":"fortStartTime","variableData":"60","effectLabel":"Fort Start Time (Seconds)","active":true,"percentWeight":null},{"id":"73e553de-023e-4f60-a7a7-bc02ece2a815","type":"firebot:customvariable","ttl":0,"name":"fortCooldown","variableData":"120","effectLabel":"Fort Cooldown (Seconds)","active":true,"percentWeight":null},{"id":"8bb60798-0c68-48f6-b86d-46cbadca11c8","type":"firebot:customvariable","ttl":0,"name":"minFortBet","variableData":"1","effectLabel":"Fort Min Bet","active":true,"percentWeight":null},{"id":"170218cb-cbb6-42d1-bbc4-a9bfda711c74","type":"firebot:customvariable","ttl":0,"name":"maxFortBet","variableData":"1000","effectLabel":"Fort Max Bet","active":true,"percentWeight":null},{"id":"52a1ab7d-33ea-497b-8153-a0bb05467f4c","type":"firebot:customvariable","ttl":0,"name":"fortWinChance","variableData":"50","effectLabel":"Fort Win Chance","active":true,"percentWeight":null},{"id":"e4552e84-554c-4753-b654-73460ce34ad9","type":"firebot:customvariable","ttl":0,"name":"userCurrencyTotal$user","variableData":"$currency[$$fortCurrencyName, $user]","effectLabel":"User Currency","active":true,"percentWeight":null},{"id":"712739ef-9bb5-41ac-b974-e2e880e115f9","type":"firebot:conditional-effects","ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is less than or equal to","value":null,"leftSideValue":"$arg[1]","rightSideValue":"$customVariable[maxFortBet]"},{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$arg[1]"},{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$customVariable[userAddedToFort$user]","rightSideValue":"1"},{"type":"firebot:custom","comparisonType":"is greater than or equal to","value":null,"leftSideValue":"$arg[1]","rightSideValue":"$customVariable[minFortBet]"},{"type":"firebot:custom","comparisonType":"is greater than or equal to","value":null,"leftSideValue":"$customVariable[userCurrencyTotal$user]","rightSideValue":"$arg[1]"}]},"effectData":{"list":[{"id":"10319ead-c356-4a54-ae57-18eb4da90009","type":"firebot:conditional-effects","ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$customVariable[activeFort]","rightSideValue":"1"},{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$customVariable[fortInProgress]","rightSideValue":"1"}]},"effectData":{"list":[{"id":"cdae9602-5293-4631-a3a3-0a48a067d486","type":"firebot:run-effect-list","active":true,"listType":"custom","presetListArgs":{},"effectList":{"list":[{"id":"a36890b0-4c5e-4443-835e-a95653222669","type":"firebot:delay","active":true,"delay":"$$fortCooldown","percentWeight":null,"effectLabel":"fortCooldown"},{"id":"208b061d-4bed-4e31-b868-0b4062855ca1","type":"firebot:customvariable","ttl":null,"name":"activeFort","variableData":"0","effectLabel":"Set Fort Inactive","active":true,"percentWeight":null}],"id":"7aff05c1-d373-437a-9da1-e9222cdf1f1d"},"dontWait":true,"percentWeight":null,"effectLabel":"Fort Cleanup"},{"id":"0a3e7de8-3f93-402e-9677-211ea3281ac4","type":"firebot:customvariable","ttl":null,"name":"activeFort","variableData":"1","effectLabel":"Set Fort Active","active":true,"percentWeight":null},{"id":"b862e9a2-e2b9-4be8-92be-2bcf5542da9f","type":"firebot:customvariable","ttl":60,"name":"userAddedToFort$user","variableData":"1","effectLabel":"User Added To Fort","active":true,"percentWeight":null},{"id":"70cfe009-a413-4b2b-a6a2-9b23b979e8d3","type":"firebot:set-user-metadata","username":"$user","key":"fortsJoined","data":"$math[$userMetadata[$user, fortsJoined]+1]","effectLabel":"fortsJoined Metadata","active":true,"percentWeight":null},{"effectLabel":"Initialize Array","id":"ae957099-cb82-4daa-babb-59e2fdaf3cb1","name":"fortUsers","ttl":0,"type":"firebot:customvariable","variableData":"[]","active":true,"percentWeight":null},{"effectLabel":"Add User to Array","id":"9ef24347-a9cd-498f-9c7c-419c5bd735e0","name":"fortUsers","ttl":0,"type":"firebot:customvariable","variableData":"{\n    \"username\": \"$user\",\n    \"wager\": \"$arg[1]\"\n}","active":true,"percentWeight":null},{"id":"a7a5bf46-1c1f-43da-b6f2-c8b4cd50389c","type":"firebot:currency","roleIds":[],"currency":"63296890-45f5-4d27-b84b-162ee434afcf","action":"Remove","target":"individual","chatter":"Bot","userTarget":"$user","amount":"$arg[1]","effectLabel":"Remove Currency","active":true,"percentWeight":null},{"id":"d74a085a-7dfe-4a3c-9f4e-5b5bdf66f6c6","type":"firebot:chat","chatter":"Bot","message":"$user is readying their ship for a skull fort, and is looking for crew! To join the crew and adventure for some booty, type !fort [$$fortCurrencyName]","effectLabel":"Fort Started Broadcast","active":true,"percentWeight":null},{"id":"84aca215-932d-456e-bf0d-a046b69ff1ca","type":"firebot:chat","chatter":"Bot","message":"$user has joined the crew of the Morning Star with $commafy[$round[$arg[1]]] $$fortCurrencyName!","effectLabel":"User Joined Fort Broadcast","active":true,"percentWeight":null},{"id":"45d196b7-3155-4d32-a182-38b4d05c1508","type":"firebot:delay","delay":"$customVariable[fortStartTime]","effectLabel":"Start Time Delay","active":true,"percentWeight":null},{"id":"a887ec7b-798e-44fa-8b44-1bacfa27dc1d","type":"firebot:customvariable","ttl":30,"name":"fortInProgress","variableData":"1","effectLabel":"fortInProgress","active":true,"percentWeight":null},{"id":"020b60d2-f140-4d0e-953e-f77fdaa119c2","type":"firebot:chat","chatter":"Bot","message":"We've got full wind in our sails, and the seas look clear! The crew of the Morning Star are headed to the fort! Check for any tucked pirates and plunder fast, the seas are sweaty today...","effectLabel":"Fort Began Message","active":true,"percentWeight":null},{"id":"9e0ce4c3-2cb5-46d7-95dc-3e4c53555c49","type":"firebot:conditional-effects","ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$arrayLength[$$fortUsers]","rightSideValue":"1"}]},"effectData":{"list":[{"id":"8452552f-5c4e-4a7c-81a0-736b56827a9e","type":"firebot:customvariable","ttl":0,"name":"fortWinChance","variableData":"$round[$math[$customVariable[fortWinChance]*0.2]]","effectLabel":"fortWinChance","active":true,"percentWeight":null}],"id":"f5c972f1-bb65-4f8c-8a26-c3dfc9b7c265"},"label":"Solo Fort"}],"otherwiseEffectData":{"list":[],"id":"48c113c2-d89b-4f4c-b260-38d039211850"},"effectLabel":"Solo Fort Check","active":true,"percentWeight":null,"otherwiseLabel":"Fort Not Solo"},{"id":"f6c4fe15-b948-44e5-aea4-55aed6ecb8f0","type":"firebot:cooldown-command","commandId":"362d0cd0-0604-11eb-af5b-7d1b41a7551a","effectLabel":"Fort Cooldown","action":"Add","username":"$customVariable[fortCooldown]","globalCooldownSecs":"$customVariable[fortCooldown]","active":true,"percentWeight":null},{"id":"5b15eb3e-017c-49d1-bcc6-db243e19e8e0","type":"firebot:delay","delay":"5","effectLabel":"Sailing Delay","active":true,"percentWeight":null},{"id":"e700a0d9-c485-4172-b7c1-4a4d5aeb72bb","type":"firebot:customvariable","ttl":10,"name":"fortSuccessResult","variableData":"$randomNumber[1,100]","effectLabel":"Fort Success Result","active":true,"percentWeight":null},{"id":"4819341c-e603-4f2a-b469-d605820ae2fa","type":"firebot:customvariable","ttl":10,"name":"fortOutcomeResult","variableData":"$randomNumber[1,100]","effectLabel":"Fort Outcome Result","active":true,"percentWeight":null},{"id":"d0ffc04e-5e11-45a5-85cb-f0e432b58616","type":"firebot:conditional-effects","ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is less than or equal to","value":null,"leftSideValue":"$customVariable[fortSuccessResult]","rightSideValue":"$customVariable[fortWinChance]"}]},"effectData":{"list":[{"id":"18e89465-a8c9-430c-a10f-46b2cf314a1c","type":"firebot:conditional-effects","ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is greater than or equal to","value":null,"leftSideValue":"$customVariable[fortOutcomeResult]","rightSideValue":"95"}]},"effectData":{"list":[{"id":"bfd6041c-7d08-4032-adb3-07a37380afb5","type":"firebot:customvariable","ttl":30,"name":"fortOutcomeMultiplier","variableData":"5","effectLabel":"Fort Outcome Multiplier","active":true,"percentWeight":null},{"id":"f45b720a-102e-4780-9276-01407cb5dce0","type":"firebot:customvariable","ttl":10,"name":"fortOutcomeChat","variableData":"$arrayRandomItem[\"['The crew fended off harrassing Pirates, slashed through Skeletons, and walked away unscathed and with loot-filled pockets! These Pirates are clearly Legends on the seas - the Pirate Lord has a special surprise for them...','It was a quiet day on the seas. The Crew of the Morning Star quickly (and expertly) cleared Skull Keep without as much as a scratch. Everyone made it back to the Outpost!','After many, many, deaths, the crew successfully completed the Fort of the Damned! The hull of our ship is filled to the gills with gold, gems, and Chests of Legends. A quiet sail to Ancient Spire Outpost secures an incredible haul.']\"]","effectLabel":"Fort Result Chat","active":true,"percentWeight":null},{"id":"d0e22b76-e174-4e46-a6dc-729a539a3415","type":"firebot:chat","active":true,"chatter":"Streamer","message":"$arrayRandomItem[\"['The crew fended off harassing Pirates, slashed through Skeletons, and walked away unscathed and with loot-filled pockets! These Pirates are clearly Legends on the seas - the Pirate Lord has a special surprise for them...','It was a quiet day on the seas. The Crew of the Morning Star quickly (and expertly) cleared Skull Keep without as much as a scratch. Everyone made it back to the Outpost!','After many, many, deaths, the crew successfully completed the Fort of the Damned! The hull of our ship is filled to the gills with gold, gems, and Chests of Legends. A quiet sail to Ancient Spire Outpost secures an incredible haul.']\"]","percentWeight":null},{"id":"bde5762c-9ea9-44c8-b1d9-cc2ba1029141","type":"firebot:chat-feed-alert","active":true,"message":"$arrayRandomItem[\"[\"The crew fended off harassing Pirates, slashed through Skeletons, and walked away unscathed and with loot-filled pockets! These Pirates are clearly Legends on the seas - the Pirate Lord has a special surprise for them...\",\"It was a quiet day on the seas. The Crew of the Morning Star quickly (and expertly) cleared Skull Keep without as much as a scratch. Everyone made it back to the Outpost!\",\"After many, many, deaths, the crew successfully completed the Fort of the Damned! The hull of our ship is filled to the gills with gold, gems, and Chests of Legends. A quiet sail to Ancient Spire Outpost secures an incredible haul.\"]\"]","percentWeight":null}],"id":"8fff6194-836c-4bad-aaf8-a67868f2aa3d"},"label":"Pirate Legend (Best Win)"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is less than","value":null,"leftSideValue":"$customVariable[fortOutcomeResult]","rightSideValue":"95"},{"type":"firebot:custom","comparisonType":"is greater than or equal to","value":null,"leftSideValue":"$customVariable[fortOutcomeResult]","rightSideValue":"85"}]},"effectData":{"list":[{"id":"ab735a7b-e0d9-40e6-9335-618faa76ffe6","type":"firebot:customvariable","ttl":30,"name":"fortOutcomeMultiplier","variableData":"3.5","effectLabel":"Fort Outcome Multiplier","active":true,"percentWeight":null},{"id":"e0c577c7-9095-439d-bab2-3b969d21bd03","type":"firebot:customvariable","ttl":10,"name":"fortOutcomeChat","variableData":"$arrayRandomItem[\"[\\\"Success - loot in hand! After a wrong turn, the crew is rudely smacked in the face by an erupting volcano! Somehow you're in the Roar. A top-deck impact knocks a pirate over the edge into boiling water, but the ship and crew survived to sail another day!\\\",\\\"After dodging volcano blasts, the crew of the Morning Star successfully completed the Molten Sands Fortress! With this being a Devil's Roar fortress, the crew is rewarded handsomely with incredible Ashen Captain's Chests and Devil's Remnants!\\\",\\\"Hidden Spring Keep was especially rewarding today! Two crews attempted to fight, but were promptly sunk by this crew of Pirate Legends. The Fort's loot, along with two ship's booty, the crew turns in a hefty amount of loot to the Reaper's Hideout.\\\"]\"]","effectLabel":"Fort Result Chat","active":true,"percentWeight":null}],"id":"0f9648b1-e153-430a-8f5e-eff62149b0c9"},"label":"3.5 x Win"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is less than","value":null,"leftSideValue":"$customVariable[fortOutcomeResult]","rightSideValue":"85"},{"type":"firebot:custom","comparisonType":"is greater than or equal to","value":null,"leftSideValue":"$customVariable[fortOutcomeResult]","rightSideValue":"50"}]},"effectData":{"list":[{"id":"8e03c351-a5f1-45cc-a8d2-5c8b3fe6f574","type":"firebot:customvariable","ttl":30,"name":"fortOutcomeMultiplier","variableData":"2.5","effectLabel":"Fort Outcome Multiplier","active":true,"percentWeight":null},{"id":"43e0e8f8-d19a-44d7-80dd-71d9220c1553","type":"firebot:customvariable","ttl":10,"name":"fortOutcomeChat","variableData":"$arrayRandomItem[\"[\\\"The crew, mostly made up of legendary pirates, makes out with everyone still alive and loot in-hand. Sailing quickly North-East from Skull Keep, the remaining crew sold quickly to Galleon's Grave.\\\",\\\"The Morning Star and her crew easily smashed the skeletons on Crow's Nest Fortress and earned a decent haul. While sailing away, a Megalodon and Skeleton Galleon spawned. Crew unphased, swiftly sunk the Skeleton Galleon and killed the Crested Queen. The extra loot helped make the return to Ancient Spire extra sweet. Who doesn't love more loot?!\\\"]\"]","effectLabel":"Fort Result Chat","active":true,"percentWeight":null}],"id":"809307da-a1ea-4b95-96f3-27e9860a208f"},"label":"2.5x Win"}],"otherwiseEffectData":{"list":[{"id":"e68ed6a3-6a9a-43aa-a748-944b0a90555b","type":"firebot:customvariable","ttl":30,"name":"fortOutcomeMultiplier","variableData":"1.5","effectLabel":"Fort Outcome Multiplier","active":true,"percentWeight":null},{"id":"5a6303bc-2c06-4d72-88fc-466c3123fcf9","type":"firebot:customvariable","ttl":10,"name":"fortOutcomeChat","variableData":"$arrayRandomItem[\"[\\\"Keel Haul Fort is often quiet, and today was no exception. After an excellent fort plunder, the crew headed East to Sanctuary, only to be caught by a tucker! He had been throwing loot overboard. A few valuable items were lost, but most loot survived this sneak attack.\\\",\\\"After sailing south from Golden Sands Outpost, the crew has an easy fight for booty at Sailor's Knot Stronghold. The crew sails away towards Plunder Valley, but only after forgetting to dig up the extra maps they found after completing the fort. What's a few forgotten gold coins to this crew?\\\"]\"]","effectLabel":"Fort Result Chat","active":true,"percentWeight":null}],"id":"f062cbba-8328-412c-9552-7866ec4bc7a2"},"otherwiseLabel":"1.5x Win","effectLabel":"Win Outcomes","active":true,"percentWeight":null},{"id":"a41ab646-0287-466e-b4b5-0f5e281f6e87","type":"firebot:customvariable","ttl":10,"name":"fortOutcome","variableData":"win","effectLabel":"Fort Outcome","active":true,"percentWeight":null}],"id":"acda3768-7cfa-4def-a452-96bfe6bbf12b"},"label":"Fort Won"}],"otherwiseEffectData":{"list":[{"id":"7a743389-5fd3-4fa1-b111-e44891705c9c","type":"firebot:conditional-effects","ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is greater than or equal to","value":null,"leftSideValue":"$customVariable[fortOutcomeResult]","rightSideValue":"90"}]},"effectData":{"list":[{"id":"e8afbbf8-3827-478d-8c75-af194051a513","type":"firebot:customvariable","ttl":30,"name":"fortOutcomeMultiplier","variableData":"$ensureNumber[0, 0]","effectLabel":"Fort Outcome Multiplier","active":true,"percentWeight":null},{"id":"e3ae0898-ba85-4169-9464-d622e291abe8","type":"firebot:customvariable","ttl":10,"name":"fortOutcomeChat","variableData":"$arrayRandomItem[\"[\\\"While sailing to Kraken Stronghold, you were ironically Krakened. The crew had been drinking grog and wasn't prepared at all for the fight. The Morning Star sank at record speed, and without a Row Boat, the loot sunk before the crew could return to recover any.\\\",\\\"The crew wasn't paying attention to a sweaty Brig incoming from Plunder Outpost. Lost Gold Fort is known for it's sweaty nature, but this was a plundering the crew wasn't prepared for. There were no survivors, and even the Rowboat was sunk.\\\"]\"]","effectLabel":"Fort Result Chat","active":true,"percentWeight":null}],"id":"0e6d642b-2876-4968-9854-364bd96ed58a"},"label":"Catastrophic Loss"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is less than","value":null,"leftSideValue":"$customVariable[fortOutcomeResult]","rightSideValue":"90"},{"type":"firebot:custom","comparisonType":"is greater than or equal to","value":null,"leftSideValue":"$customVariable[fortOutcomeResult]","rightSideValue":"60"}]},"effectData":{"list":[{"id":"78b10c51-4d27-4c95-b13e-8fe392e10775","type":"firebot:customvariable","ttl":30,"name":"fortOutcomeMultiplier","variableData":"0.25","effectLabel":"Fort Outcome Multiplier","active":true,"percentWeight":null},{"id":"6a37e57a-4248-4cbf-993b-1b6e5c161296","type":"firebot:customvariable","ttl":10,"name":"fortOutcomeChat","variableData":"$arrayRandomItem[\"[\\\"While sailing towards Sailor's Knot Stronghold, you drive through some barrels floating in the water. You drive over not one, not two, but THREE explosive barrels. Your crew is knocked off the boat from the blasts, and while you float waiting for a mermaid, your ship sinks just off the coast of the fort. Only a few Seafarer's chests remain to be turned in.\\\",\\\"The Crew of the Morning Star had the great idea to load up their Row Boat with loot to make unloading Molten Sands Fortress easier. While sailing south-west towards Morrow's Peak Outpost, Flintlock Peninsula begins to erupt. In what feels like a coordinated attack from the Rare Gods themselves, a heat-seeking molten rock smashes into the rear of the ship destroying the row boat. Nearly all of the loot is lost. The crew saved a few skulls, but most of it is lost.\\\"]\"]","effectLabel":"Fort Result Chat","active":true,"percentWeight":null}],"id":"dd2f2973-bb54-4998-89f3-b4b14deedb6b"},"label":"0.25 x Loss"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is less than","value":null,"leftSideValue":"$customVariable[fortOutcomeResult]","rightSideValue":"60"},{"type":"firebot:custom","comparisonType":"is greater than or equal to","value":null,"leftSideValue":"$customVariable[fortOutcomeResult]","rightSideValue":"10"}]},"effectData":{"list":[{"id":"507dacfa-59c5-4307-9a10-4eea7e52a312","type":"firebot:customvariable","ttl":30,"name":"fortOutcomeMultiplier","variableData":"0.5","effectLabel":"Fort Outcome Multiplier","active":true,"percentWeight":null},{"id":"cd49c66a-15d4-4680-a76b-95f36f33fac9","type":"firebot:customvariable","ttl":10,"name":"fortOutcomeChat","variableData":"$arrayRandomItem[\"[\\\"While the crew was loading the boat, a sneak-attack from a Galleon caught the crew by surprise. With the ship partially loaded, the crew fled east to Daggertooth, but was sunk. A few brave souls loaded the remaining loot onto a rowboat, and rowed to Sanctuary to turn in what was left.\\\",\\\"Sailing away from Kraken Watchtower towards Daggertooth, the crew is attacked by a deadly Kraken. The crew, with one-too-many grogs consumed to muster a proper fight, is unable to fight off the Kraken and repair the ship. After sinking, some loot was loaded into the Rowboat and turned in. Not a total loss, but certainly an embarassing performance.\\\"]\"]","effectLabel":"Fort Result Chat","active":true,"percentWeight":null}],"id":"e297cec9-a967-492b-852b-870d5ebf3231"},"label":"0.5x Loss"}],"otherwiseEffectData":{"list":[{"id":"6a9f8cca-d4a2-484d-bb8e-100afdef520e","type":"firebot:customvariable","ttl":30,"name":"fortOutcomeMultiplier","variableData":"0.8","effectLabel":"Fort Outcome Multiplier","active":true,"percentWeight":null},{"id":"06d3d549-7ecb-4540-a4a2-e0b6c318bad0","type":"firebot:customvariable","ttl":10,"name":"fortOutcomeChat","variableData":"$arrayRandomItem[\"[\\\"*BUAHWA* Oh no, Joe \"Three Sheets\" Neate and his Skeleton Galleon appear out of nowhere! Worse yet, he's packing Cursed Anchor Balls. After a derpy 10 minute fight, most of your crew survived and eventually sunk his ship. While looking for loot afterwards, a bug prevented some of the loot from spawning, but at least you were able to keep most of your loot.\\\",\\\"The Crew of the Morning Star had the great idea to load up their Row Boat with loot to make unloading Molten Sands Fortress easier. While sailing south-west towards Morrow's Peak Outpost, Flintlock Peninsula begins to erupt. In what feels like a coordinated attack from the Rare Gods themselves, a heat-seeking molten rock smashes into the rear of the ship destroying the row boat. Some of the loot is lost while the crew scrambles to save what they can.\\\"]\"]","effectLabel":"Fort Result Chat","active":true,"percentWeight":null}],"id":"e90c458e-c090-4cd2-8968-37a7d127f2eb"},"otherwiseLabel":"0.8x Loss","effectLabel":"Lose Outcomes","active":true,"percentWeight":null},{"id":"7f101e48-1308-4fcf-9327-c96468afab30","type":"firebot:customvariable","ttl":10,"name":"fortOutcome","variableData":"loss","effectLabel":"Fort Outcome","active":true,"percentWeight":null}],"id":"c0db4d6a-6c02-4d1e-83ff-acf2e41a0b97"},"otherwiseLabel":"Fort Lost","effectLabel":"Fort Result Table","active":true,"percentWeight":null},{"id":"c199769a-6b80-4b30-a826-7ba765f68ad1","type":"firebot:customvariable","ttl":10,"variableData":"|","name":"userWinningsPrint","effectLabel":"User Winnings Print","active":true,"percentWeight":null},{"conditionData":{"conditions":[],"mode":"exclusive"},"effectLabel":"Loop Through Results","effectList":{"id":"b1ef1be0-0606-11eb-8e05-d3f2a8c09f5d","list":[{"id":"b73880e0-0661-11eb-b95e-8765eb84fa26","type":"firebot:customvariable","ttl":0,"name":"currentLoopUser","variableData":"$customVariable[fortUsers, $ensureNumber[$loopCount].username]","effectLabel":"Current Loop User","active":true,"percentWeight":null},{"id":"b73880e1-0661-11eb-b95e-8765eb84fa26","type":"firebot:customvariable","ttl":0,"name":"currentLoopBet","variableData":"$customVariable[fortUsers, $ensureNumber[$loopCount].wager]","effectLabel":"Current Loop Bet","active":true,"percentWeight":null},{"id":"b73880e2-0661-11eb-b95e-8765eb84fa26","type":"firebot:conditional-effects","ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is greater than or equal to","value":null,"leftSideValue":"$customVariable[fortOutcomeMultiplier]","rightSideValue":"1"}]},"effectData":{"list":[{"id":"13abd230-0650-11eb-b8ad-29ad30572b86","type":"firebot:currency","roleIds":[],"currency":"63296890-45f5-4d27-b84b-162ee434afcf","action":"Add","target":"individual","chatter":"Bot","userTarget":"$customVariable[currentLoopUser]","amount":"$math[$customVariable[currentLoopBet]+($customVariable[currentLoopBet]*$customVariable[fortOutcomeMultiplier])]","effectLabel":"Add Currency","sendChat":false,"message":"$customVariable[currentBetUser] added $math[$customVariable[currentLoopBet]+($customVariable[currentLoopBet]*$customVariable[fortOutcomeMultiplier])]","active":true,"percentWeight":null},{"id":"0d3d9770-0651-11eb-b8ad-29ad30572b86","type":"firebot:customvariable","ttl":10,"name":"loopUserGoldGiven","variableData":"$math[($customVariable[currentLoopBet]*$customVariable[fortOutcomeMultiplier])]","effectLabel":"Loop User Currency Given","active":true,"percentWeight":null}],"id":"ea678280-064e-11eb-b8ad-29ad30572b86"},"label":"Add Currency"}],"otherwiseEffectData":{"list":[{"id":"6f2f6720-0650-11eb-b8ad-29ad30572b86","type":"firebot:currency","roleIds":[],"currency":"63296890-45f5-4d27-b84b-162ee434afcf","action":"Remove","target":"individual","chatter":"Bot","userTarget":"$customVariable[currentLoopUser]","amount":"$math[$customVariable[currentLoopBet]*$customVariable[fortOutcomeMultiplier]]","effectLabel":"Add Loss","sendChat":false,"message":"$customVariable[currentBetUser] added $math[$customVariable[currentLoopBet]*$customVariable[fortOutcomeMultiplier]]","active":true,"percentWeight":null},{"id":"262eefe0-0651-11eb-b8ad-29ad30572b86","type":"firebot:customvariable","ttl":10,"name":"loopUserGoldGiven","variableData":"$math[$customVariable[currentLoopBet]*$customVariable[fortOutcomeMultiplier]]","effectLabel":"Loop User Currency Given","active":true,"percentWeight":null}],"id":"ea65fbe0-064e-11eb-b8ad-29ad30572b86"},"otherwiseLabel":"Remove Currency","effectLabel":"Add/Remove User Currency","active":true,"percentWeight":null},{"id":"9b7ac340-16ce-11eb-a5af-0734c0822da1","type":"firebot:conditional-effects","ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$customVariable[fortOutcome]","rightSideValue":"win"}]},"effectData":{"list":[{"id":"bc253080-16ce-11eb-a5af-0734c0822da1","type":"firebot:set-user-metadata","username":"$customVariable[currentLoopUser]","key":"fortsWon","data":"$math[$userMetadata[$customVariable[currentLoopUser], fortsWon]+1]","effectLabel":"Increment Won Fort Count"}],"id":"9b7f5720-16ce-11eb-a5af-0734c0822da1"},"label":"Fort Win"}],"otherwiseEffectData":{"list":[{"id":"d76533e0-16ce-11eb-a5af-0734c0822da1","type":"firebot:set-user-metadata","username":"$customVariable[currentLoopUser]","key":"fortsLost","data":"$math[$userMetadata[$customVariable[currentLoopUser], fortsLost]+1]","effectLabel":"Increment Lost Fort Count"}],"id":"9b7da970-16ce-11eb-a5af-0734c0822da1"},"otherwiseLabel":"Fort Loss","effectLabel":"Increment Won/Lost Stats Count","active":true,"percentWeight":null},{"id":"b73880e4-0661-11eb-b95e-8765eb84fa26","type":"firebot:customvariable","ttl":10,"variableData":"$customVariable[userWinningsPrint] $customVariable[fortUsers, $ensureNumber[$loopCount].username] ($commafy[$round[$customVariable[loopUserGoldGiven]]]) |","name":"userWinningsPrint","effectLabel":"User Winnings Print","active":true,"percentWeight":null}]},"id":"451f2f68-46ee-457a-94a9-b2bc203c25b4","loopCount":"$$fortUsers","loopMode":"array","type":"firebot:loopeffects","active":true,"percentWeight":null,"arrayToIterate":"$$fortUsers"},{"id":"735c2c82-2b59-4849-ae12-74fdca849f94","type":"firebot:chat","chatter":"Bot","message":"$customVariable[fortOutcomeChat]","effectLabel":"Fort Outcome Broadcast","active":true,"percentWeight":null},{"id":"6c97c3b3-79a6-464f-98e1-a7c74d437804","type":"firebot:delay","delay":"2","effectLabel":"Fort Winnings Delay","active":true,"percentWeight":null},{"id":"271f8e1d-03e6-4492-92a6-5f0493ea0221","type":"firebot:chat","chatter":"Bot","message":"The final $$fortCurrencyName tally for the Fort (Bet*$customVariable[fortOutcomeMultiplier]): $customVariable[userWinningsPrint]","effectLabel":"Fort Winnings Broadcast","active":true,"percentWeight":null},{"effectLabel":"Clear Array","id":"0302051a-6b3d-4970-a012-a8154e4ccc1f","name":"fortUsers","ttl":1,"type":"firebot:customvariable","variableData":"0","active":true,"percentWeight":null}],"id":"c45ec5ed-e4ee-400e-8b99-4f33c06f7b5d"},"label":"Initialize Fort"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$customVariable[activeFort]","rightSideValue":"1"},{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$customVariable[fortInProgress]","rightSideValue":"1"}]},"effectData":{"list":[{"id":"b42190b8-4fb8-4d1c-b21d-9ee197b9ab77","type":"firebot:customvariable","ttl":60,"name":"userAddedToFort$user","variableData":"1","effectLabel":"User Added To Fort","active":true,"percentWeight":null},{"id":"7f07c14e-ad03-4e8e-931f-c2c74c05afa7","type":"firebot:set-user-metadata","username":"$user","key":"fortsJoined","data":"$math[$userMetadata[$user, fortsJoined]+1]","effectLabel":"fortsJoined Metadata","active":true,"percentWeight":null},{"effectLabel":"Add User to Array","id":"c16cf35c-bd96-4c0c-ac62-4ca382d77781","name":"fortUsers","ttl":0,"type":"firebot:customvariable","variableData":"{\n    \"username\": \"$user\",\n    \"wager\": \"$arg[1]\"\n  }","active":true,"percentWeight":null},{"id":"acc6c0e1-be22-4de7-b70b-2ea44f7ad0e2","type":"firebot:currency","roleIds":[],"currency":"63296890-45f5-4d27-b84b-162ee434afcf","action":"Remove","target":"individual","chatter":"Bot","userTarget":"$user","amount":"$arg[1]","effectLabel":"Remove Currency","active":true,"percentWeight":null},{"id":"18963f53-d014-4c94-9940-1c3f8dc504dc","type":"firebot:chat","chatter":"Bot","message":"$user has joined the crew of the Morning Star with $commafy[$round[$arg[1]]] $$fortCurrencyName!","effectLabel":"User Joined Fort Broadcast","active":true,"percentWeight":null}],"id":"b6d45b5c-d491-46b8-b03b-5ead68989da2"},"label":"Join Fort"}],"otherwiseEffectData":{"list":[{"id":"2c3c4ca4-79a7-4673-8a4d-1ef987e3a492","type":"firebot:chat","chatter":"Bot","message":"$user, the crew has already set sail and you didn't make it in time.","active":true,"percentWeight":null}],"id":"96cd0ad5-3d91-44a6-83d5-2edc11190cd9"},"otherwiseLabel":"Fort Already in Progress","effectLabel":"Initialize Fort or Add User","active":true,"percentWeight":null}],"id":"b1d28356-d9d2-4df0-aa53-7f5587c8457c"},"label":"Bet Meets Criteria"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is greater than","value":null,"leftSideValue":"$arg[1]","rightSideValue":"$customVariable[maxFortBet]"},{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$customVariable[userAddedToFort$user]","rightSideValue":"1"}]},"effectData":{"list":[{"id":"3fe5a1f0-987d-48f5-a7e8-61d82030fa2c","type":"firebot:chat","chatter":"Bot","message":"$user to join the crew, you can not join with more than $commafy[$customVariable[maxFortBet]] $$fortCurrencyName","effectLabel":"Max Bet Warning","active":true,"percentWeight":null}],"id":"b586e112-41d8-434a-b449-f9659c4e1d7b"},"label":"Bet Above Max"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is less than","value":null,"leftSideValue":"$arg[1]","rightSideValue":"$customVariable[minFortBet]"},{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$customVariable[userAddedToFort$user]","rightSideValue":"1"}]},"effectData":{"list":[{"id":"1712d910-bb0c-4cc1-bba1-0b20c8655ccc","type":"firebot:chat","chatter":"Bot","message":"$user to join the crew, you can not join with less than $commafy[$customVariable[minFortBet]] $$fortCurrencyName","effectLabel":"Min Bet Warning","active":true,"percentWeight":null}],"id":"c4652e95-217d-4c66-8db9-0339625a6fcd"},"label":"Bet Below Min"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$arg[1]","rightSideValue":""},{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$customVariable[userAddedToFort$user]","rightSideValue":"1"}]},"effectData":{"list":[{"id":"53bb30b5-1675-48a3-bee3-b25ac8d48d79","type":"firebot:chat","chatter":"Bot","message":"$user to join the crew, you must enter a valid $$fortCurrencyName amount (!fort 1000)","effectLabel":"Invalid Bet Warning","active":true,"percentWeight":null}],"id":"f30c84c6-88fa-4435-bd3c-82a4a2546b1a"},"label":"Bet Invalid"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is less than","value":null,"leftSideValue":"$customVariable[userCurrencyTotal$user]","rightSideValue":"$arg[1]"},{"type":"firebot:custom","comparisonType":"is not","value":null,"leftSideValue":"$customVariable[userAddedToFort$user]","rightSideValue":"1"}]},"effectData":{"list":[{"id":"85a9a63b-d088-4b96-b2b7-70a37e835786","type":"firebot:chat","chatter":"Bot","message":"$user you have only $commafy[$currency[$$fortCurrencyName, $user]] but you tried to join the crew with $commafy[$arg[1]]. Adjust your bet down to an amount you have and try again.","effectLabel":"Not Enough Currency","active":true,"percentWeight":null}],"id":"cdc77352-ce17-4daf-90e8-29509a4feb81"},"label":"Not Enough Currency"},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$customVariable[userAddedToFort$user]","rightSideValue":"1"}]},"effectData":{"list":[{"id":"6898d16d-2036-4e9a-bc95-6828e4d4c62d","type":"firebot:chat","chatter":"Bot","message":"$user you are already on the crew of the Morning Star for this fort!","effectLabel":"Already Added","active":true,"percentWeight":null}],"id":"f1b57bfb-30e2-4a52-b4a3-e634c53a579c"},"label":"Already Added To Fort"}],"otherwiseEffectData":{"list":[{"id":"7a2a0a1d-5f24-441f-9491-69ab9a79f78d","type":"firebot:chat","chatter":"Bot","message":"$user to join the crew, you must enter a valid currency amount (!fort 1000)","effectLabel":"Invalid Bet Warning","active":true,"percentWeight":null}],"id":"af81c419-0600-42a1-94b1-ff5d08af0c85"},"effectLabel":"Argument Checker","otherwiseLabel":"Something Went Wrong","active":true,"percentWeight":null}],"id":"e7e79213-7f4d-4652-9685-6e778646206c"},"description":"Go on an epic Sea of Thieves adventure with members of chat with the potential for lots of spoils!"},"autoDeleteTrigger":false,"simple":false,"aliases":[],"type":"custom","cooldownMessage":"This command is still on cooldown for: {timeLeft}","treatQuotedTextAsSingleArg":false,"allowTriggerBySharedChat":"inherit"}],"counters":[],"currencies":[],"effectQueues":[],"events":[],"eventGroups":[],"hotkeys":[],"presetEffectLists":[],"timers":[],"scheduledTasks":[],"variableMacros":[],"viewerRoles":[],"viewerRankLadders":[],"quickActions":[]},"requireCurrency":true,"importQuestions":[{"id":"e62974f7-41db-49df-a171-9dc25e30de8e","question":"What is the name of your currency you want to use with the Fort game?","helpText":"exact spelling - this is Case Sensitive","defaultAnswer":"Points","answerType":"text","replaceToken":"%CurrencyName%"},{"id":"1c761109-86ad-402c-84b0-3f7b92a83a99","question":"What is the Minimum Bet allowed?","helpText":"This must be LOWER than your Max Bet","defaultAnswer":1,"answerType":"number","replaceToken":"%MinBet%"},{"id":"cb5a7351-0cf4-4a4c-ab4b-6c0beb27891e","question":"What is the Maximum Bet allowed?","defaultAnswer":1000,"answerType":"number","replaceToken":"%MaxBet%"},{"id":"4d52fe6c-01ca-43cd-abb6-1aef47a901e5","question":"What is the Win chance out of 100?","helpText":"Must be between 1 and 100. The default is 50, which equates to a 50% chance to win","defaultAnswer":50,"answerType":"number","replaceToken":"%WinChance%"},{"id":"ec692300-19b6-4895-88ab-e877e63f90b1","question":"How much time must pass before the Fort is started (in Seconds)?","helpText":"Enter a time in Seconds. The default is 60, which will allow viewers to join for 60 seconds before the game starts","defaultAnswer":60,"answerType":"number","replaceToken":"%FortJoinTime%"},{"id":"7dd18742-4d80-4122-a5ab-77372036038c","question":"How much time after the game completes should pass before a new Fort game can start (in Seconds)?","helpText":"To help keep chat spam down, the minimum recommended time is 120 seconds, which is 2 minutes.","defaultAnswer":120,"answerType":"number","replaceToken":"%FortCooldown%"}]}